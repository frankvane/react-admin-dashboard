{
    "sourceFile": "src/router/routes.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1742033713493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1742033721729,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,8 +97,9 @@\n       {\r\n         path: \"*\",\r\n         element: <Navigate to=\"/404\" replace />,\r\n         meta: {\r\n+          title: \"Not Found\",\r\n           hidden: true,\r\n         },\r\n       },\r\n     ],\r\n"
                },
                {
                    "date": 1742097530341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,9 @@\n   LockOutlined,\n   TeamOutlined,\n   UserOutlined,\n } from \"@ant-design/icons\";\n+\n import { AppRoute } from \"../types\";\n import Dashboard from \"../pages/dashboard\";\n import Documentation from \"../pages/documentation\";\n import NotFound from \"../pages/404\";\n@@ -148,5 +149,7 @@\n     },\n   },\n ];\n \n-export default routes;\n\\ No newline at end of file\n+export default routes;\n+\n+export {routes}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1742097942138,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,8 +13,9 @@\n import Dashboard from \"../pages/dashboard\";\n import Documentation from \"../pages/documentation\";\n import NotFound from \"../pages/404\";\n import React from \"react\";\n+import { MainLayout } from \"../layouts\";\n \n // 用户管理页面\n const UserManagement = React.lazy(() => import(\"../pages/permission/user\"));\n // 角色管理页面\n@@ -24,131 +25,137 @@\n \n const routes: AppRoute[] = [\n   {\n     path: \"/\",\n-    element: <Dashboard />,\n-    meta: {\n-      title: \"仪表盘\",\n-      icon: <DashboardOutlined />,\n-      keepAlive: true,\n-    },\n-  },\n-  {\n-    path: \"/documentation\",\n-    element: <Documentation />,\n-    meta: {\n-      title: \"文档\",\n-      icon: <BookOutlined />,\n-      keepAlive: true,\n-    },\n-  },\n-  {\n-    path: \"/components\",\n-    element: <div>组件</div>,\n-    meta: {\n-      title: \"组件\",\n-      icon: <AppstoreOutlined />,\n-    },\n+    element: <MainLayout />,\n     children: [\n       {\n-        path: \"/components/form\",\n-        element: <div>表单</div>,\n+        path: \"\",\n+        element: <Dashboard />,\n         meta: {\n-          title: \"表单\",\n+          title: \"仪表盘\",\n+          icon: <DashboardOutlined />,\n+          keepAlive: true,\n         },\n       },\n       {\n-        path: \"/components/table\",\n-        element: <div>表格</div>,\n+        path: \"documentation\",\n+        element: <Documentation />,\n         meta: {\n-          title: \"表格\",\n+          title: \"文档\",\n+          icon: <BookOutlined />,\n+          keepAlive: true,\n         },\n       },\n       {\n-        path: \"/components/tabs\",\n-        element: <div>选项卡</div>,\n+        path: \"components\",\n+        element: <div>组件</div>,\n         meta: {\n-          title: \"选项卡\",\n+          title: \"组件\",\n+          icon: <AppstoreOutlined />,\n         },\n+        children: [\n+          {\n+            path: \"form\",\n+            element: <div>表单</div>,\n+            meta: {\n+              title: \"表单\",\n+            },\n+          },\n+          {\n+            path: \"table\",\n+            element: <div>表格</div>,\n+            meta: {\n+              title: \"表格\",\n+            },\n+          },\n+          {\n+            path: \"tabs\",\n+            element: <div>选项卡</div>,\n+            meta: {\n+              title: \"选项卡\",\n+            },\n+          },\n+        ],\n       },\n-    ],\n-  },\n-  {\n-    path: \"/charts\",\n-    element: <div>图表</div>,\n-    meta: {\n-      title: \"图表\",\n-      icon: <AreaChartOutlined />,\n-    },\n-    children: [\n       {\n-        path: \"/charts/line\",\n-        element: <div>折线图</div>,\n+        path: \"charts\",\n+        element: <div>图表</div>,\n         meta: {\n-          title: \"折线图\",\n+          title: \"图表\",\n+          icon: <AreaChartOutlined />,\n         },\n+        children: [\n+          {\n+            path: \"line\",\n+            element: <div>折线图</div>,\n+            meta: {\n+              title: \"折线图\",\n+            },\n+          },\n+          {\n+            path: \"bar\",\n+            element: <div>柱状图</div>,\n+            meta: {\n+              title: \"柱状图\",\n+            },\n+          },\n+          {\n+            path: \"pie\",\n+            element: <div>饼图</div>,\n+            meta: {\n+              title: \"饼图\",\n+            },\n+          },\n+        ],\n       },\n       {\n-        path: \"/charts/bar\",\n-        element: <div>柱状图</div>,\n+        path: \"permission\",\n+        element: <div>权限管理</div>,\n         meta: {\n-          title: \"柱状图\",\n+          title: \"权限管理\",\n+          icon: <LockOutlined />,\n         },\n+        children: [\n+          {\n+            path: \"user\",\n+            element: <UserManagement />,\n+            meta: {\n+              title: \"用户管理\",\n+              icon: <UserOutlined />,\n+              keepAlive: true,\n+            },\n+          },\n+          {\n+            path: \"role\",\n+            element: <RoleManagement />,\n+            meta: {\n+              title: \"角色管理\",\n+              icon: <TeamOutlined />,\n+              keepAlive: true,\n+            },\n+          },\n+          {\n+            path: \"auth\",\n+            element: <AuthManagement />,\n+            meta: {\n+              title: \"授权管理\",\n+              icon: <FileTextOutlined />,\n+              keepAlive: true,\n+            },\n+          },\n+        ],\n       },\n       {\n-        path: \"/charts/pie\",\n-        element: <div>饼图</div>,\n+        path: \"*\",\n+        element: <NotFound />,\n         meta: {\n-          title: \"饼图\",\n+          title: \"404\",\n+          hidden: true,\n         },\n       },\n     ],\n   },\n-  {\n-    path: \"/permission\",\n-    element: <div>权限管理</div>,\n-    meta: {\n-      title: \"权限管理\",\n-      icon: <LockOutlined />,\n-    },\n-    children: [\n-      {\n-        path: \"/permission/user\",\n-        element: <UserManagement />,\n-        meta: {\n-          title: \"用户管理\",\n-          icon: <UserOutlined />,\n-          keepAlive: true,\n-        },\n-      },\n-      {\n-        path: \"/permission/role\",\n-        element: <RoleManagement />,\n-        meta: {\n-          title: \"角色管理\",\n-          icon: <TeamOutlined />,\n-          keepAlive: true,\n-        },\n-      },\n-      {\n-        path: \"/permission/auth\",\n-        element: <AuthManagement />,\n-        meta: {\n-          title: \"授权管理\",\n-          icon: <FileTextOutlined />,\n-          keepAlive: true,\n-        },\n-      },\n-    ],\n-  },\n-  {\n-    path: \"*\",\n-    element: <NotFound />,\n-    meta: {\n-      title: \"404\",\n-      hidden: true,\n-    },\n-  },\n ];\n \n export default routes;\n \n"
                }
            ],
            "date": 1742033713493,
            "name": "Commit-0",
            "content": "import {\r\n  AppstoreOutlined,\r\n  DashboardOutlined,\r\n  FileTextOutlined,\r\n  QuestionCircleOutlined,\r\n  ShoppingOutlined,\r\n  UserOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Dashboard, NotFound } from \"../pages\";\r\n\r\nimport { MainLayout } from \"../layouts\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\n// 路由配置类型\r\nexport interface RouteConfig {\r\n  path: string;\r\n  element: React.ReactNode;\r\n  children?: RouteConfig[];\r\n  meta?: {\r\n    title: string;\r\n    icon?: React.ReactNode;\r\n    hidden?: boolean;\r\n  };\r\n}\r\n\r\n// 路由配置\r\nexport const routes: RouteConfig[] = [\r\n  {\r\n    path: \"/\",\r\n    element: <MainLayout />,\r\n    children: [\r\n      {\r\n        path: \"\",\r\n        element: <Dashboard />,\r\n        meta: {\r\n          title: \"Dashboard\",\r\n          icon: <DashboardOutlined />,\r\n        },\r\n      },\r\n      {\r\n        path: \"documentation\",\r\n        element: <div>Documentation Page</div>,\r\n        meta: {\r\n          title: \"Documentation\",\r\n          icon: <FileTextOutlined />,\r\n        },\r\n      },\r\n      {\r\n        path: \"guide\",\r\n        element: <div>Guide Page</div>,\r\n        meta: {\r\n          title: \"Guide\",\r\n          icon: <QuestionCircleOutlined />,\r\n        },\r\n      },\r\n      {\r\n        path: \"permission\",\r\n        element: <div>Permission Page</div>,\r\n        meta: {\r\n          title: \"Permission\",\r\n          icon: <UserOutlined />,\r\n        },\r\n      },\r\n      {\r\n        path: \"route-permission\",\r\n        element: <div>Route Permission Page</div>,\r\n        meta: {\r\n          title: \"Route Permission\",\r\n          icon: <UserOutlined />,\r\n        },\r\n      },\r\n      {\r\n        path: \"component\",\r\n        element: <div>Component Page</div>,\r\n        meta: {\r\n          title: \"Component\",\r\n          icon: <AppstoreOutlined />,\r\n        },\r\n      },\r\n      {\r\n        path: \"business\",\r\n        element: <div>Business Page</div>,\r\n        meta: {\r\n          title: \"Business\",\r\n          icon: <ShoppingOutlined />,\r\n        },\r\n      },\r\n      {\r\n        path: \"404\",\r\n        element: <NotFound />,\r\n        meta: {\r\n          title: \"404\",\r\n          hidden: true,\r\n        },\r\n      },\r\n      {\r\n        path: \"*\",\r\n        element: <Navigate to=\"/404\" replace />,\r\n        meta: {\r\n          hidden: true,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n// 扁平化路由配置，用于快速查找\r\nexport const flattenRoutes = (routes: RouteConfig[]): RouteConfig[] => {\r\n  return routes.reduce<RouteConfig[]>((acc, route) => {\r\n    if (route.children) {\r\n      return [...acc, route, ...flattenRoutes(route.children)];\r\n    }\r\n    return [...acc, route];\r\n  }, []);\r\n};\r\n\r\n// 获取扁平化的路由配置\r\nexport const flatRoutes = flattenRoutes(routes);\r\n\r\n// 根据路径获取路由元数据\r\nexport const getRouteMetaByPath = (\r\n  path: string\r\n): RouteConfig[\"meta\"] | undefined => {\r\n  const route = flatRoutes.find((r) => {\r\n    // 处理根路径\r\n    if (path === \"/\" && r.path === \"\") {\r\n      return true;\r\n    }\r\n    return r.path === path || `/${r.path}` === path;\r\n  });\r\n  return route?.meta;\r\n};\r\n"
        }
    ]
}