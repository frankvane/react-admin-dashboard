{
    "sourceFile": "src/pages/permission/role/index.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1742097648188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1742101413547,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,255 +1,4 @@\n-<<<<<<< HEAD\n-const Role = () => {\r\n-  return <div>Role</div>;\r\n-};\r\n-export default Role;\r\n-=======\n-import React, { useEffect, useState } from 'react';\n-import { Button, Card, Input, Space, Table, Tag, message, Popconfirm } from 'antd';\n-import { PlusOutlined, SearchOutlined } from '@ant-design/icons';\n-import type { ColumnsType } from 'antd/es/table';\n-\n-interface Role {\n-  id: number;\n-  name: string;\n-  description: string;\n-  permissions: string[];\n-  userCount: number;\n-  createdAt: string;\n-  status: 'active' | 'inactive';\n-}\n-\n-const RoleManagement: React.FC = () => {\n-  const [loading, setLoading] = useState(false);\n-  const [roles, setRoles] = useState<Role[]>([]);\n-  const [searchText, setSearchText] = useState('');\n-\n-  // 模拟获取角色数据\n-  useEffect(() => {\n-    setLoading(true);\n-    // 模拟 API 请求\n-    setTimeout(() => {\n-      const mockRoles: Role[] = [\n-        {\n-          id: 1,\n-          name: '超级管理员',\n-          description: '拥有所有权限',\n-          permissions: ['all'],\n-          userCount: 1,\n-          createdAt: '2023-01-01',\n-          status: 'active',\n-        },\n-        {\n-          id: 2,\n-          name: '内容编辑',\n-          description: '管理内容相关功能',\n-          permissions: ['content:read', 'content:write', 'content:publish'],\n-          userCount: 5,\n-          createdAt: '2023-01-15',\n-          status: 'active',\n-        },\n-        {\n-          id: 3,\n-          name: '普通用户',\n-          description: '基础功能访问',\n-          permissions: ['content:read'],\n-          userCount: 20,\n-          createdAt: '2023-02-01',\n-          status: 'active',\n-        },\n-        {\n-          id: 4,\n-          name: '测试人员',\n-          description: '测试环境所有权限',\n-          permissions: ['test:all'],\n-          userCount: 3,\n-          createdAt: '2023-02-15',\n-          status: 'active',\n-        },\n-        {\n-          id: 5,\n-          name: '访客',\n-          description: '只读权限',\n-          permissions: ['read'],\n-          userCount: 50,\n-          createdAt: '2023-03-01',\n-          status: 'inactive',\n-        },\n-      ];\n-      setRoles(mockRoles);\n-      setLoading(false);\n-    }, 1000);\n-  }, []);\n-\n-  // 表格列定义\n-  const columns: ColumnsType<Role> = [\n-    {\n-      title: 'ID',\n-      dataIndex: 'id',\n-      key: 'id',\n-      width: 80,\n-    },\n-    {\n-      title: '角色名称',\n-      dataIndex: 'name',\n-      key: 'name',\n-      render: (text) => <a>{text}</a>,\n-    },\n-    {\n-      title: '描述',\n-      dataIndex: 'description',\n-      key: 'description',\n-    },\n-    {\n-      title: '权限数量',\n-      key: 'permissionCount',\n-      render: (_, record) => record.permissions.length,\n-    },\n-    {\n-      title: '用户数量',\n-      dataIndex: 'userCount',\n-      key: 'userCount',\n-    },\n-    {\n-      title: '状态',\n-      dataIndex: 'status',\n-      key: 'status',\n-      render: (status) => (\n-        <Tag color={status === 'active' ? 'green' : 'red'}>\n-          {status === 'active' ? '启用' : '禁用'}\n-        </Tag>\n-      ),\n-    },\n-    {\n-      title: '创建时间',\n-      dataIndex: 'createdAt',\n-      key: 'createdAt',\n-    },\n-    {\n-      title: '操作',\n-      key: 'action',\n-      render: (_, record) => (\n-        <Space size=\"middle\">\n-          <a>编辑</a>\n-          <a>权限设置</a>\n-          <Popconfirm\n-            title=\"确定要删除此角色吗?\"\n-            onConfirm={() => handleDelete(record.id)}\n-            okText=\"确定\"\n-            cancelText=\"取消\"\n-          >\n-            <a>删除</a>\n-          </Popconfirm>\n-        </Space>\n-      ),\n-    },\n-  ];\n-\n-  // 处理删除角色\n-  const handleDelete = (id: number) => {\n-    setRoles(roles.filter(role => role.id !== id));\n-    message.success('角色已删除');\n-  };\n-\n-  // 处理搜索\n-  const handleSearch = () => {\n-    if (!searchText) {\n-      return;\n-    }\n-    const filteredRoles = roles.filter(\n-      role => \n-        role.name.toLowerCase().includes(searchText.toLowerCase()) ||\n-        role.description.toLowerCase().includes(searchText.toLowerCase())\n-    );\n-    setRoles(filteredRoles);\n-  };\n-\n-  // 重置搜索\n-  const handleReset = () => {\n-    setSearchText('');\n-    // 重新加载数据\n-    setLoading(true);\n-    setTimeout(() => {\n-      const mockRoles: Role[] = [\n-        {\n-          id: 1,\n-          name: '超级管理员',\n-          description: '拥有所有权限',\n-          permissions: ['all'],\n-          userCount: 1,\n-          createdAt: '2023-01-01',\n-          status: 'active',\n-        },\n-        {\n-          id: 2,\n-          name: '内容编辑',\n-          description: '管理内容相关功能',\n-          permissions: ['content:read', 'content:write', 'content:publish'],\n-          userCount: 5,\n-          createdAt: '2023-01-15',\n-          status: 'active',\n-        },\n-        {\n-          id: 3,\n-          name: '普通用户',\n-          description: '基础功能访问',\n-          permissions: ['content:read'],\n-          userCount: 20,\n-          createdAt: '2023-02-01',\n-          status: 'active',\n-        },\n-        {\n-          id: 4,\n-          name: '测试人员',\n-          description: '测试环境所有权限',\n-          permissions: ['test:all'],\n-          userCount: 3,\n-          createdAt: '2023-02-15',\n-          status: 'active',\n-        },\n-        {\n-          id: 5,\n-          name: '访客',\n-          description: '只读权限',\n-          permissions: ['read'],\n-          userCount: 50,\n-          createdAt: '2023-03-01',\n-          status: 'inactive',\n-        },\n-      ];\n-      setRoles(mockRoles);\n-      setLoading(false);\n-    }, 500);\n-  };\n-\n-  return (\n-    <Card title=\"角色管理\" variant=\"borderless\">\n-      <Space style={{ marginBottom: 16 }}>\n-        <Input\n-          placeholder=\"搜索角色名称/描述\"\n-          value={searchText}\n-          onChange={(e) => setSearchText(e.target.value)}\n-          style={{ width: 250 }}\n-          onPressEnter={handleSearch}\n-        />\n-        <Button type=\"primary\" icon={<SearchOutlined />} onClick={handleSearch}>\n-          搜索\n-        </Button>\n-        <Button onClick={handleReset}>重置</Button>\n-        <Button type=\"primary\" icon={<PlusOutlined />}>\n-          新增角色\n-        </Button>\n-      </Space>\n-      <Table\n-        columns={columns}\n-        dataSource={roles}\n-        rowKey=\"id\"\n-        loading={loading}\n-        pagination={{ pageSize: 10 }}\n-      />\n-    </Card>\n-  );\n+const Role = () => {\n+  return <div>Role</div>;\n };\n-\n-export default RoleManagement;\n->>>>>>> 368ce12dbaf6a31e21c62b8bed82cf21008a9e08\n+export default Role;\n"
                }
            ],
            "date": 1742097648188,
            "name": "Commit-0",
            "content": "const Role = () => {\r\n  return (\r\n    <div>Role</div>\r\n  )\r\n}\r\nexport default Role"
        }
    ]
}